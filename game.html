<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Baralho do Amor - Jogo Principal</title>
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
    --primary: #8B0000;
    --primary-light: #B22222;
    --primary-dark: #5A0000;
    --accent: #D4AF37;
    --accent-light: #E6C158;
    --light: #FAF9F6;
    --dark: #121212;
    --card-bg: rgba(255, 255, 255, 0.98);
    --text: #2C1810;
    --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    --shadow-lg: 0 20px 60px rgba(0, 0, 0, 0.15);
    --shadow-md: 0 10px 30px rgba(0, 0, 0, 0.1);
    --shadow-sm: 0 5px 15px rgba(0, 0, 0, 0.05);
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Montserrat', sans-serif;
    background: linear-gradient(135deg, #f5f0eb 0%, #f8f4f0 100%);
    color: var(--text);
    min-height: 100vh;
    overflow-x: hidden;
    position: relative;
    transition: var(--transition);
}

/* Efeitos de part√≠culas no fundo */
.particles-background {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    z-index: -2;
    overflow: hidden;
}

.particle {
    position: absolute;
    border-radius: 50%;
    opacity: 0.3;
    animation: float 15s infinite linear;
}

.particle:nth-child(1) {
    width: 80px;
    height: 80px;
    background: radial-gradient(circle, var(--primary) 0%, transparent 70%);
    top: 10%;
    left: 5%;
    animation-delay: 0s;
    animation-duration: 20s;
}

.particle:nth-child(2) {
    width: 120px;
    height: 120px;
    background: radial-gradient(circle, var(--accent) 0%, transparent 70%);
    top: 70%;
    left: 80%;
    animation-delay: 3s;
    animation-duration: 25s;
}

.particle:nth-child(3) {
    width: 60px;
    height: 60px;
    background: radial-gradient(circle, var(--primary-light) 0%, transparent 70%);
    top: 30%;
    left: 90%;
    animation-delay: 7s;
    animation-duration: 18s;
}

.particle:nth-child(4) {
    width: 100px;
    height: 100px;
    background: radial-gradient(circle, var(--accent-light) 0%, transparent 70%);
    top: 85%;
    left: 15%;
    animation-delay: 10s;
    animation-duration: 22s;
}

@keyframes float {
    0%, 100% {
        transform: translate(0, 0) rotate(0deg);
    }
    25% {
        transform: translate(20px, -30px) rotate(90deg);
    }
    50% {
        transform: translate(-15px, 20px) rotate(180deg);
    }
    75% {
        transform: translate(30px, 15px) rotate(270deg);
    }
}

/* Efeito de brilho pulsante */
.glow-effect {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    width: 600px;
    height: 600px;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.1) 0%, rgba(212, 175, 55, 0) 70%);
    border-radius: 50%;
    z-index: -1;
    animation: pulse 8s ease-in-out infinite;
}

@keyframes pulse {
    0%, 100% {
        opacity: 0.3;
        transform: translate(-50%, -50%) scale(1);
    }
    50% {
        opacity: 0.6;
        transform: translate(-50%, -50%) scale(1.1);
    }
}

/* Container principal */
.game-container {
    min-height: 100vh;
    display: flex;
    flex-direction: column;
    padding: 20px;
    max-width: 1200px;
    margin: 0 auto;
}

/* Header melhorado */
.game-header {
    text-align: center;
    padding: 25px 20px 15px;
    position: relative;
    animation: fadeInDown 1s ease;
}

.header-content {
    max-width: 800px;
    margin: 0 auto;
}

.header-title {
    font-family: 'Cormorant Garamond', serif;
    font-size: 3.2rem;
    color: var(--primary);
    margin-bottom: 8px;
    position: relative;
    display: inline-block;
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.1);
    background: linear-gradient(to right, var(--primary), var(--primary-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    letter-spacing: 1px;
}

.header-title::after {
    content: '';
    position: absolute;
    bottom: -8px;
    left: 25%;
    width: 50%;
    height: 3px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
    border-radius: 3px;
    box-shadow: 0 0 10px rgba(212, 175, 55, 0.5);
}

.header-subtitle {
    font-size: 1.1rem;
    color: var(--text);
    opacity: 0.9;
    letter-spacing: 3px;
    text-transform: uppercase;
    font-weight: 300;
    margin-bottom: 20px;
    position: relative;
    display: inline-block;
    padding: 5px 15px;
    background: rgba(255, 255, 255, 0.7);
    border-radius: 20px;
    backdrop-filter: blur(5px);
}

/* Estat√≠sticas r√°pidas melhoradas */
.quick-stats {
    display: flex;
    justify-content: center;
    gap: 30px;
    margin-top: 25px;
    flex-wrap: wrap;
    animation: fadeInUp 1s ease 0.3s both;
}

.stat-badge {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    padding: 12px 20px;
    border-radius: 15px;
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 0.95rem;
    color: var(--text);
    border: 1px solid rgba(255, 255, 255, 0.5);
    box-shadow: var(--shadow-sm);
    backdrop-filter: blur(10px);
    transition: var(--transition);
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.stat-badge::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(135deg, var(--primary) 0%, transparent 100%);
    opacity: 0;
    z-index: -1;
    transition: var(--transition);
}

.stat-badge:hover::before {
    opacity: 0.1;
}

.stat-badge:hover {
    transform: translateY(-5px);
    box-shadow: var(--shadow-md);
}

.stat-badge i {
    color: var(--primary);
    font-size: 1.1rem;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

/* √Årea principal do jogo */
.game-main {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 20px;
    gap: 30px;
}

/* A carta - Design melhorado com efeitos */
.card-container {
    position: relative;
    width: 100%;
    max-width: 420px;
    height: 560px;
    perspective: 1800px;
    animation: floatCard 6s ease-in-out infinite;
}

@keyframes floatCard {
    0%, 100% {
        transform: translateY(0);
    }
    50% {
        transform: translateY(-15px);
    }
}

.card {
    position: relative;
    width: 100%;
    height: 100%;
    transform-style: preserve-3d;
    transition: transform 0.9s cubic-bezier(0.34, 1.56, 0.64, 1);
    cursor: pointer;
    border-radius: 20px;
    overflow: hidden;
}

.card-face {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
    border-radius: 20px;
    overflow: hidden;
    box-shadow: var(--shadow-lg);
}

/* Frente da carta melhorada */
.card-front {
    background: linear-gradient(145deg, var(--card-bg) 0%, #fefefe 100%);
    border: 1px solid rgba(255, 255, 255, 0.8);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    padding: 50px 35px;
    position: relative;
    overflow: hidden;
}

.card-front::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle, rgba(212, 175, 55, 0.05) 0%, transparent 70%);
    z-index: 0;
}

.card-content {
    text-align: center;
    width: 100%;
    position: relative;
    z-index: 1;
}

.card-icon {
    font-size: 2.5rem;
    margin-bottom: 25px;
    color: var(--primary);
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    animation: heartbeat 2s ease infinite;
}

@keyframes heartbeat {
    0%, 100% {
        transform: scale(1);
    }
    50% {
        transform: scale(1.1);
    }
}

.card-text {
    font-family: 'Cormorant Garamond', serif;
    font-size: 1.9rem;
    line-height: 1.5;
    color: var(--text);
    font-weight: 600;
    margin-bottom: 25px;
    padding: 0 20px;
    text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.05);
    position: relative;
}

.card-text::after {
    content: '';
    position: absolute;
    bottom: -10px;
    left: 30%;
    width: 40%;
    height: 2px;
    background: linear-gradient(90deg, transparent, var(--accent), transparent);
}

.card-meta {
    font-size: 0.9rem;
    color: var(--text);
    opacity: 0.7;
    margin-top: 30px;
    letter-spacing: 1.5px;
    text-transform: uppercase;
    font-weight: 400;
}

/* Verso da carta melhorado */
.card-back {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
    transform: rotateY(180deg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    color: white;
    padding: 40px;
    text-align: center;
    position: relative;
    overflow: hidden;
}

.card-back::before {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.03' fill-rule='evenodd'/%3E%3C/svg%3E");
    opacity: 0.1;
}

.back-icon {
    font-size: 4rem;
    margin-bottom: 25px;
    opacity: 0.9;
    text-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
    animation: spin 20s linear infinite;
}

@keyframes spin {
    0% {
        transform: rotate(0deg);
    }
    100% {
        transform: rotate(360deg);
    }
}

.back-text {
    font-size: 1.4rem;
    letter-spacing: 3px;
    text-transform: uppercase;
    margin-bottom: 15px;
    font-weight: 500;
    text-shadow: 0 2px 5px rgba(0, 0, 0, 0.3);
}

.back-subtext {
    font-size: 1rem;
    opacity: 0.8;
    font-weight: 300;
    max-width: 80%;
    line-height: 1.5;
}

/* Controles principais melhorados */
.primary-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    width: 100%;
    max-width: 450px;
    animation: fadeInUp 1s ease 0.5s both;
}

.main-btn {
    flex: 1;
    padding: 18px 25px;
    border: none;
    border-radius: 15px;
    font-size: 1.05rem;
    font-weight: 500;
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 12px;
    min-height: 60px;
    position: relative;
    overflow: hidden;
    z-index: 1;
}

.main-btn::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
    transition: left 0.7s ease;
    z-index: -1;
}

.main-btn:hover::before {
    left: 100%;
}

.main-btn.primary {
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
    color: white;
    box-shadow: 0 10px 25px rgba(139, 0, 0, 0.25);
}

.main-btn.primary:hover {
    transform: translateY(-5px);
    box-shadow: 0 15px 35px rgba(139, 0, 0, 0.35);
}

.main-btn.secondary {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    color: var(--text);
    border: 1px solid rgba(212, 175, 55, 0.3);
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    backdrop-filter: blur(10px);
}

.main-btn.secondary:hover {
    transform: translateY(-5px);
    background: white;
    box-shadow: 0 12px 30px rgba(0, 0, 0, 0.15);
    border-color: var(--accent);
}

/* Controles secund√°rios melhorados */
.secondary-controls {
    display: flex;
    justify-content: center;
    gap: 15px;
    width: 100%;
    max-width: 450px;
    margin-top: 15px;
    animation: fadeInUp 1s ease 0.7s both;
}

.icon-btn {
    width: 55px;
    height: 55px;
    border: none;
    border-radius: 50%;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    color: var(--text);
    cursor: pointer;
    transition: var(--transition);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.3rem;
    border: 1px solid rgba(0, 0, 0, 0.08);
    box-shadow: var(--shadow-sm);
    backdrop-filter: blur(10px);
    position: relative;
    overflow: hidden;
}

.icon-btn::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background: radial-gradient(circle at center, rgba(255, 255, 255, 0.3) 0%, transparent 70%);
    opacity: 0;
    transition: opacity 0.3s ease;
}

.icon-btn:hover::after {
    opacity: 1;
}

.icon-btn:hover {
    transform: translateY(-5px) scale(1.1);
    background: white;
    box-shadow: var(--shadow-md);
}

.icon-btn.accent {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
    color: var(--text);
    border: none;
    box-shadow: 0 8px 20px rgba(212, 175, 55, 0.3);
}

.icon-btn.accent:hover {
    box-shadow: 0 12px 30px rgba(212, 175, 55, 0.4);
}

/* Bot√£o de tema melhorado */
.theme-toggle {
    position: fixed;
    top: 25px;
    right: 25px;
    z-index: 100;
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(255, 255, 255, 0.85) 100%);
    border: 1px solid rgba(0, 0, 0, 0.08);
    width: 50px;
    height: 50px;
    border-radius: 50%;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow: var(--shadow-md);
    transition: var(--transition);
    font-size: 1.2rem;
    color: var(--primary);
    backdrop-filter: blur(10px);
    animation: fadeIn 1s ease 1s both;
}

.theme-toggle:hover {
    transform: rotate(30deg) scale(1.1);
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
    color: var(--accent);
}

/* Modal de configura√ß√µes melhorado */
.settings-modal {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(8px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    opacity: 0;
    visibility: hidden;
    transition: var(--transition);
}

.settings-modal.active {
    opacity: 1;
    visibility: visible;
}

.settings-content {
    background: linear-gradient(135deg, rgba(255, 255, 255, 0.98) 0%, rgba(255, 255, 255, 0.95) 100%);
    border-radius: 20px;
    padding: 40px;
    width: 90%;
    max-width: 450px;
    box-shadow: var(--shadow-lg);
    transform: translateY(30px) scale(0.9);
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    border: 1px solid rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(10px);
}

.settings-modal.active .settings-content {
    transform: translateY(0) scale(1);
}

.settings-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
    padding-bottom: 15px;
    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
}

.settings-header h3 {
    font-size: 1.5rem;
    color: var(--primary);
    font-weight: 600;
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

.close-settings {
    background: none;
    border: none;
    font-size: 1.3rem;
    color: var(--text);
    opacity: 0.6;
    cursor: pointer;
    transition: var(--transition);
    width: 40px;
    height: 40px;
    display: flex;
    align-items: center;
    justify-content: center;
    border-radius: 50%;
}

.close-settings:hover {
    opacity: 1;
    transform: rotate(90deg);
    background: rgba(0, 0, 0, 0.05);
}

.settings-group {
    margin-bottom: 25px;
}

.settings-group label {
    display: block;
    margin-bottom: 10px;
    font-size: 0.95rem;
    color: var(--text);
    font-weight: 500;
}

.settings-group select {
    width: 100%;
    padding: 12px 18px;
    border: 1px solid rgba(0, 0, 0, 0.1);
    border-radius: 10px;
    font-size: 1rem;
    background: rgba(255, 255, 255, 0.9);
    color: var(--text);
    transition: var(--transition);
    appearance: none;
    background-image: url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3e%3cpolyline points='6 9 12 15 18 9'%3e%3c/polyline%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 15px;
    padding-right: 45px;
}

.settings-group select:focus {
    outline: none;
    border-color: var(--primary);
    box-shadow: 0 0 0 3px rgba(139, 0, 0, 0.1);
}

/* Anima√ß√µes de entrada */
@keyframes fadeInDown {
    from {
        opacity: 0;
        transform: translateY(-30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translateY(30px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes fadeIn {
    from {
        opacity: 0;
    }
    to {
        opacity: 1;
    }
}

/* Modo Escuro aprimorado */
body.dark-mode {
    background: linear-gradient(135deg, #0F0F0F 0%, #1A1A1A 100%);
    color: #E0E0E0;
}

body.dark-mode .particles-background .particle {
    opacity: 0.2;
}

body.dark-mode .glow-effect {
    background: radial-gradient(circle, rgba(212, 175, 55, 0.15) 0%, rgba(212, 175, 55, 0) 70%);
}

body.dark-mode .header-title {
    background: linear-gradient(to right, var(--accent), var(--accent-light));
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

body.dark-mode .header-subtitle {
    background: rgba(30, 30, 30, 0.7);
    color: #C0C0C0;
}

body.dark-mode .stat-badge {
    background: linear-gradient(135deg, rgba(40, 40, 40, 0.95) 0%, rgba(30, 30, 30, 0.85) 100%);
    color: #E0E0E0;
    border: 1px solid rgba(255, 255, 255, 0.05);
}

body.dark-mode .stat-badge i {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

body.dark-mode .card-front {
    background: linear-gradient(145deg, rgba(40, 40, 40, 0.98) 0%, rgba(30, 30, 30, 0.95) 100%);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .card-text {
    color: #F0F0F0;
}

body.dark-mode .card-back {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
}

body.dark-mode .main-btn.secondary {
    background: linear-gradient(135deg, rgba(40, 40, 40, 0.95) 0%, rgba(30, 30, 30, 0.85) 100%);
    color: #E0E0E0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .icon-btn {
    background: linear-gradient(135deg, rgba(40, 40, 40, 0.95) 0%, rgba(30, 30, 30, 0.85) 100%);
    color: #E0E0E0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .theme-toggle {
    background: linear-gradient(135deg, rgba(40, 40, 40, 0.95) 0%, rgba(30, 30, 30, 0.85) 100%);
    color: var(--accent);
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .settings-content {
    background: linear-gradient(135deg, rgba(40, 40, 40, 0.98) 0%, rgba(30, 30, 30, 0.95) 100%);
    color: #E0E0E0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .settings-header h3 {
    background: linear-gradient(135deg, var(--accent) 0%, var(--accent-light) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
}

body.dark-mode .close-settings {
    color: #E0E0E0;
}

body.dark-mode .settings-group select {
    background: rgba(50, 50, 50, 0.9);
    color: #E0E0E0;
    border: 1px solid rgba(255, 255, 255, 0.1);
}

body.dark-mode .settings-group select:focus {
    border-color: var(--accent);
    box-shadow: 0 0 0 3px rgba(212, 175, 55, 0.2);
}

/* Toast de notifica√ß√£o */
.toast {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%) translateY(100px);
    background: linear-gradient(135deg, var(--primary) 0%, var(--primary-light) 100%);
    color: white;
    padding: 15px 25px;
    border-radius: 10px;
    box-shadow: var(--shadow-lg);
    z-index: 3000;
    opacity: 0;
    transition: transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.3s ease;
    display: flex;
    align-items: center;
    gap: 10px;
    max-width: 90%;
}

.toast.show {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
}

.toast i {
    font-size: 1.2rem;
}

/* Efeito de part√≠culas ao virar carta */
.card-particle {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    pointer-events: none;
    z-index: 1000;
    opacity: 0;
}

/* Responsividade melhorada */
@media (max-width: 768px) {
    .game-container {
        padding: 15px;
    }
    
    .header-title {
        font-size: 2.5rem;
    }
    
    .card-container {
        height: 480px;
        max-width: 350px;
    }
    
    .card-text {
        font-size: 1.6rem;
    }
    
    .primary-controls {
        flex-direction: column;
    }
    
    .theme-toggle {
        top: 20px;
        right: 20px;
        width: 45px;
        height: 45px;
    }
    
    .quick-stats {
        gap: 15px;
    }
    
    .stat-badge {
        padding: 10px 15px;
        font-size: 0.85rem;
    }
}

@media (max-width: 480px) {
    .header-title {
        font-size: 2rem;
    }
    
    .header-subtitle {
        font-size: 0.9rem;
        letter-spacing: 2px;
    }
    
    .card-container {
        height: 420px;
    }
    
    .card-text {
        font-size: 1.4rem;
    }
    
    .secondary-controls {
        gap: 10px;
    }
    
    .icon-btn {
        width: 50px;
        height: 50px;
    }
}
</style>
</head>
<body>
    <!-- Efeito de brilho pulsante -->
    <div class="glow-effect"></div>
    
    <!-- Part√≠culas de fundo -->
    <div class="particles-background">
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
        <div class="particle"></div>
    </div>
    
    <!-- Bot√£o de tema -->
    <button class="theme-toggle" id="themeToggle">
        <i class="fas fa-moon"></i>
    </button>
    
    <!-- Modal de configura√ß√µes -->
    <div class="settings-modal" id="settingsModal">
        <div class="settings-content">
            <div class="settings-header">
                <h3>Configura√ß√µes do Jogo</h3>
                <button class="close-settings" id="closeSettings">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div class="settings-group">
                <label for="deckMode">Modo de Embaralhamento:</label>
                <select id="deckMode">
                    <option value="random">Aleat√≥rio Total</option>
                    <option value="ordered">Em Ordem Sequencial</option>
                    <option value="smart">Inteligente (Sem repeti√ß√µes)</option>
                </select>
            </div>
            
            <div class="settings-group">
                <label for="skipMode">Comportamento ao Pular:</label>
                <select id="skipMode">
                    <option value="hide">Ocultar carta pulada</option>
                    <option value="mark">Marcar para "Responder depois"</option>
                    <option value="shuffle">Voltar ao baralho no final</option>
                </select>
            </div>
            
            <div class="settings-group">
                <label for="deckSize">Cartas por Sess√£o:</label>
                <select id="deckSize">
                    <option value="10">10 cartas (Sess√£o R√°pida)</option>
                    <option value="20">20 cartas (Sess√£o M√©dia)</option>
                    <option value="50" selected>50 cartas (Jornada Completa)</option>
                    <option value="custom">Personalizado</option>
                </select>
            </div>
            
            <button class="main-btn primary" onclick="applySettings()">
                <i class="fas fa-check-circle"></i> Aplicar Configura√ß√µes
            </button>
        </div>
    </div>
    
    <!-- Toast de notifica√ß√£o -->
    <div class="toast" id="toast">
        <i class="fas fa-check"></i>
        <span id="toastText">Configura√ß√µes aplicadas com sucesso!</span>
    </div>
    
    <!-- Container principal -->
    <div class="game-container">
        <!-- Header -->
        <header class="game-header">
            <div class="header-content">
                <h1 class="header-title">Baralho do Amor</h1>
                <p class="header-subtitle">Conversas que conectam almas</p>
                
                <div class="quick-stats">
                    <div class="stat-badge">
                        <i class="fas fa-heartbeat"></i>
                        <span id="cardsUsed">0</span>/<span id="totalCards">50</span> Cartas
                    </div>
                    <div class="stat-badge">
                        <i class="fas fa-star-and-crescent"></i>
                        <span id="skippedCards">0</span> Puladas
                    </div>
                    <div class="stat-badge">
                        <i class="fas fa-hourglass-half"></i>
                        <span id="sessionTime">0:00</span>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- √Årea principal -->
        <main class="game-main">
            <!-- A carta -->
            <div class="card-container">
                <div class="card" id="card" onclick="flipCard()">
                    <!-- Frente -->
                    <div class="card-face card-front">
                        <div class="card-content">
                            <div class="card-icon">
                                <i class="fas fa-heart"></i>
                            </div>
                            <div class="card-text" id="cardText">
                                Toque na carta para revelar sua primeira pergunta
                            </div>
                            <div class="card-meta" id="cardMeta">
                                Carta #<span id="cardNumber">0</span> de 50
                            </div>
                        </div>
                    </div>
                    
                    <!-- Verso -->
                    <div class="card-face card-back">
                        <div class="back-icon">
                            <i class="fas fa-heart-lock"></i>
                        </div>
                        <div class="back-text">
                            Baralho do Amor
                        </div>
                        <div class="back-subtext">
                            Toque para revelar uma pergunta que fortalecer√° sua conex√£o
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Controles principais -->
            <div class="primary-controls">
                <button class="main-btn primary" onclick="drawCard('next')" id="nextBtn">
                    <i class="fas fa-forward-fast"></i>
                    <span>Pr√≥xima Carta</span>
                </button>
                
                <button class="main-btn secondary" onclick="skipCard()" id="skipBtn">
                    <i class="fas fa-step-forward"></i>
                    <span>Pular & Pensar</span>
                </button>
            </div>
            
            <!-- Controles secund√°rios -->
            <div class="secondary-controls">
                <button class="icon-btn" onclick="previousCard()" id="prevBtn">
                    <i class="fas fa-backward-step"></i>
                </button>
                
                <button class="icon-btn accent" onclick="toggleFaithMode()" id="faithBtn">
                    <i class="fas fa-praying-hands"></i>
                </button>
                
                <button class="icon-btn" onclick="openSettings()">
                    <i class="fas fa-sliders"></i>
                </button>
                
                <button class="icon-btn" onclick="resetSession()">
                    <i class="fas fa-arrows-rotate"></i>
                </button>
            </div>
        </main>
    </div>

    <!-- √Åudio -->
    <audio id="cardSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="flipSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-page-turn-single-1102.mp3" type="audio/mpeg">
    </audio>
    
    <audio id="skipSound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-unlock-game-notification-253.mp3" type="audio/mpeg">
    </audio>

    <script>
        // =====================
        // DADOS - 50 CARTAS (mantidas exatamente iguais)
        // =====================
        const LOVE_CARDS = [
            "Qual foi o momento mais feliz que voc√™ j√° teve comigo?",
            "Qual √© o teu maior medo na rela√ß√£o?",
            "Qual √© a tua lembran√ßa mais triste da inf√¢ncia?",
            "J√° te sentiste inseguro com rela√ß√£o a n√≥s?",
            "Quando foi a √∫ltima vez que te sentiste realmente feliz comigo?",
            "Que h√°bito meu te incomoda e nunca disseste?",
            "Qual √© a minha linguagem do amor?",
            "J√° pensaste em desistir de n√≥s? Por que?",
            "Tens alguma ferida n√£o curada no relacionamento?",
            "O que te motiva a continuar comigo?",
            "Que feridas do passado ainda influenciam o nosso relacionamento?",
            "Qual √© o limite do perd√£o para ti?",
            "O que √© respeito para ti no relacionamento?",
            "Qual √© a nossa miss√£o como casal?",
            "Em que momento te sentiste mais cuidado(a) por mim?",
            "Qual √© o nosso maior desafio hoje?",
            "Guardas algum segredo de mim?",
            "J√° sentiste desejo por outra pessoa estando comigo?",
            "Como lidas com a culpa diante de Deus?",
            "Escondes alguma parte da tua hist√≥ria por medo de julgamento?",
            "Como a tua vis√£o sobre o sexo foi moldada ‚Äì por Deus ou pela cultura?",
            "J√° pensaste que n√£o √©s suficiente para mim?",
            "Tens sentimentos mal resolvidos com algu√©m do teu passado?",
            "Sentes que me conheces de verdade ou apenas o que mostro?",
            "O que est√°s a perder ou sacrificar por estar comigo?",
            "Sentes que somos emocionalmente dependentes um do outro?",
            "Achas que demonstro amor da forma que tu precisas?",
            "Como achas que podemos servir nossa comunidade de f√© quando casarmos?",
            "Em que momento do dia tu sentes mais saudades de mim?",
            "Qual √© a caracter√≠stica minha que tu mais amas?",
            "O que me torna diferente de outras pessoas?",
            "Existe algo que gostaria de me contar e ainda n√£o me contou?",
            "Em quais situa√ß√µes voc√™ se sente melhor ao meu lado?",
            "O que voc√™ percebe como gesto de carinho, mesmo quando simples?",
            "O que mudou em ti depois que nos conhecemos?",
            "Como voc√™ imagina o nosso primeiro culto a Deus em casa como casal?",
            "Qual √© a parte mais dif√≠cil de se relacionar comigo?",
            "Voc√™ j√° evitou conversas dif√≠ceis por receio da minha rea√ß√£o?",
            "Qual foi o seu primeiro pensamento quando me viu pela primeira vez?",
            "Se tiv√©ssemos que trocar de vida por um dia, o que voc√™ faria se fosse eu?",
            "Qual h√°bito meu voc√™ achava estranho no come√ßo e hoje acha fofo?",
            "Que momento da sua hist√≥ria voc√™ voltaria s√≥ para reviver?",
            "O que voc√™ aprendeu sobre o amor desde que estamos juntos?",
            "O que mais admira em mim quando estamos enfrentando desafios?",
            "Quando foi que voc√™ se sentiu mais amado por mim?",
            "Qual toque meu voc√™ mais sente falta quando estamos distantes?",
            "Quem √© mais dram√°tico(a) no relacionamento?",
            "Como voc√™ acha que podemos apoiar um ao outro em nossas rela√ß√µes com familiares e amigos?",
            "Qual √© a coisa mais importante que voc√™ sente que falta em nosso relacionamento?",
            "Voc√™ me ama ou a rotina te faz pensar isso?"
        ];

        // =====================
        // SISTEMA DE JOGO AVAN√áADO
        // =====================
        class LoveDeck {
            constructor() {
                this.originalCards = [...LOVE_CARDS];
                this.activeDeck = [];
                this.usedCards = [];
                this.skippedCards = [];
                this.currentIndex = 0;
                this.sessionStart = null;
                this.faithMode = false;
                this.settings = {
                    deckMode: 'smart',
                    skipMode: 'hide',
                    deckSize: 50,
                    shuffleMethod: 'fisher-yates'
                };
                this.history = [];
                this.maxHistory = 10;
            }

            initialize() {
                this.sessionStart = Date.now();
                this.createDeck();
                this.updateDisplay();
            }

            createDeck() {
                this.activeDeck = [];
                this.usedCards = [];
                this.skippedCards = [];
                this.currentIndex = 0;
                this.history = [];

                const deckSize = Math.min(this.settings.deckSize, this.originalCards.length);
                let availableCards = [...this.originalCards];

                switch(this.settings.deckMode) {
                    case 'random':
                        availableCards = this.shuffleArray([...availableCards]);
                        this.activeDeck = availableCards.slice(0, deckSize);
                        break;

                    case 'ordered':
                        this.activeDeck = availableCards.slice(0, deckSize);
                        break;

                    case 'smart':
                        availableCards = this.shuffleArray([...availableCards]);
                        const smartDeck = [];
                        for (let i = 0; i < deckSize; i++) {
                            if (i === 0) {
                                smartDeck.push(availableCards[i]);
                            } else {
                                const previousCard = smartDeck[i-1];
                                const remainingCards = availableCards.filter(card => 
                                    !smartDeck.includes(card) && 
                                    !this.isSimilarCards(previousCard, card)
                                );
                                
                                if (remainingCards.length > 0) {
                                    smartDeck.push(remainingCards[0]);
                                } else {
                                    const nextAvailable = availableCards.find(card => !smartDeck.includes(card));
                                    if (nextAvailable) smartDeck.push(nextAvailable);
                                }
                            }
                        }
                        this.activeDeck = smartDeck;
                        break;
                }
            }

            shuffleArray(array) {
                const shuffled = [...array];
                for (let i = shuffled.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
                }
                return shuffled;
            }

            isSimilarCards(card1, card2) {
                const words1 = card1.toLowerCase().split(' ');
                const words2 = card2.toLowerCase().split(' ');
                
                const themes = {
                    'medo': ['medo', 'segredo', 'esconder', 'receio'],
                    'passado': ['passado', 'hist√≥ria', 'lembran√ßa', 'inf√¢ncia'],
                    'rela√ß√£o': ['relacionamento', 'n√≥s', 'casal', 'juntos'],
                    'amor': ['amor', 'sentir', 'sentimento', 'amar']
                };

                let similarity = 0;
                for (const theme in themes) {
                    const themeWords = themes[theme];
                    const hasTheme1 = themeWords.some(word => card1.toLowerCase().includes(word));
                    const hasTheme2 = themeWords.some(word => card2.toLowerCase().includes(word));
                    
                    if (hasTheme1 && hasTheme2) {
                        similarity++;
                    }
                }

                return similarity >= 2;
            }

            getNextCard() {
                if (this.activeDeck.length === 0) {
                    this.createDeck();
                }

                if (this.currentIndex >= this.activeDeck.length) {
                    this.currentIndex = 0;
                    
                    if (this.usedCards.length >= this.activeDeck.length) {
                        this.createDeck();
                        return { 
                            text: "üéâ Baralho renovado! Uma nova jornada come√ßa.",
                            type: "info",
                            number: 1
                        };
                    }
                }

                const card = this.activeDeck[this.currentIndex];
                const cardNumber = this.currentIndex + 1;

                this.history.unshift({
                    card,
                    index: this.currentIndex,
                    timestamp: Date.now()
                });
                
                if (this.history.length > this.maxHistory) {
                    this.history.pop();
                }

                return { 
                    text: card, 
                    type: "question",
                    number: cardNumber
                };
            }

            markAsUsed() {
                if (this.currentIndex < this.activeDeck.length) {
                    const card = this.activeDeck[this.currentIndex];
                    if (!this.usedCards.includes(card)) {
                        this.usedCards.push(card);
                    }
                    this.currentIndex++;
                }
            }

            skipCard() {
                if (this.currentIndex < this.activeDeck.length) {
                    const card = this.activeDeck[this.currentIndex];
                    
                    switch(this.settings.skipMode) {
                        case 'hide':
                            this.skippedCards.push(card);
                            this.activeDeck.splice(this.currentIndex, 1);
                            break;
                            
                        case 'mark':
                            this.skippedCards.push(card);
                            this.currentIndex++;
                            break;
                            
                        case 'shuffle':
                            const skipped = this.activeDeck.splice(this.currentIndex, 1)[0];
                            this.activeDeck.push(skipped);
                            this.skippedCards.push(card);
                            break;
                    }
                }
            }

            previousCard() {
                if (this.history.length > 1) {
                    this.history.shift();
                    const previous = this.history[0];
                    this.currentIndex = previous.index;
                    
                    return { 
                        text: previous.card, 
                        type: "question",
                        number: previous.index + 1
                    };
                }
                return null;
            }

            getStats() {
                const sessionTime = Date.now() - this.sessionStart;
                const minutes = Math.floor(sessionTime / 60000);
                const seconds = Math.floor((sessionTime % 60000) / 1000);
                
                return {
                    cardsUsed: this.usedCards.length,
                    totalCards: this.activeDeck.length,
                    skippedCards: this.skippedCards.length,
                    sessionTime: `${minutes}:${seconds.toString().padStart(2, '0')}`,
                    currentCard: this.currentIndex + 1
                };
            }

            resetSession() {
                this.sessionStart = Date.now();
                this.createDeck();
                this.history = [];
            }

            updateDisplay() {
                const stats = this.getStats();
                
                document.getElementById('cardsUsed').textContent = stats.cardsUsed;
                document.getElementById('totalCards').textContent = stats.totalCards;
                document.getElementById('skippedCards').textContent = this.skippedCards.length;
                document.getElementById('sessionTime').textContent = stats.sessionTime;
                document.getElementById('cardNumber').textContent = stats.currentCard;
                
                const prevBtn = document.getElementById('prevBtn');
                prevBtn.disabled = this.history.length <= 1;
                prevBtn.style.opacity = prevBtn.disabled ? '0.5' : '1';
                
                const skipBtn = document.getElementById('skipBtn');
                skipBtn.style.display = this.currentIndex < this.activeDeck.length ? 'flex' : 'none';
            }
        }

        // =====================
        // INST√ÇNCIA DO JOGO
        // =====================
        const game = new LoveDeck();

        // =====================
        // EFEITOS VISUAIS
        // =====================
        function createParticles(x, y, count = 15) {
            const colors = ['#8B0000', '#B22222', '#D4AF37', '#E6C158'];
            
            for (let i = 0; i < count; i++) {
                const particle = document.createElement('div');
                particle.className = 'card-particle';
                particle.style.left = `${x}px`;
                particle.style.top = `${y}px`;
                particle.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                
                document.body.appendChild(particle);
                
                const angle = Math.random() * Math.PI * 2;
                const speed = 2 + Math.random() * 3;
                const size = 5 + Math.random() * 10;
                
                particle.style.width = `${size}px`;
                particle.style.height = `${size}px`;
                
                const animation = particle.animate([
                    { 
                        transform: `translate(0, 0) rotate(0deg)`,
                        opacity: 1
                    },
                    { 
                        transform: `translate(${Math.cos(angle) * 100}px, ${Math.sin(angle) * 100}px) rotate(${360}deg)`,
                        opacity: 0
                    }
                ], {
                    duration: 800 + Math.random() * 700,
                    easing: 'cubic-bezier(0.215, 0.610, 0.355, 1)'
                });
                
                animation.onfinish = () => particle.remove();
            }
        }

        // =====================
        // FUN√á√ïES DE INTERFACE
        // =====================
        function drawCard(action = 'next') {
            playSound('cardSound');
            
            const cardElement = document.getElementById('card');
            const rect = cardElement.getBoundingClientRect();
            createParticles(rect.left + rect.width / 2, rect.top + rect.height / 2);
            
            let cardData;
            if (action === 'next') {
                cardData = game.getNextCard();
                if (cardData.type === "question") {
                    game.markAsUsed();
                }
            } else if (action === 'previous') {
                cardData = game.previousCard();
                if (!cardData) {
                    showToast("N√£o h√° carta anterior");
                    return;
                }
            }
            
            if (cardData) {
                revealCard(cardData.text);
                document.getElementById('cardNumber').textContent = cardData.number;
                
                cardElement.style.transform = 'rotateY(0deg)';
                cardElement.classList.add('card-draw');
                setTimeout(() => cardElement.classList.remove('card-draw'), 600);
            }
            
            game.updateDisplay();
        }

        function skipCard() {
            playSound('skipSound');
            game.skipCard();
            
            const cardElement = document.getElementById('card');
            cardElement.style.transform = 'rotateY(180deg)';
            
            setTimeout(() => {
                drawCard('next');
                showToast("Carta pulada - voc√™ pode voltar a ela depois");
            }, 500);
        }

        function previousCard() {
            playSound('cardSound');
            drawCard('previous');
        }

        function revealCard(text) {
            document.getElementById('cardText').textContent = text;
        }

        function flipCard() {
            const card = document.getElementById('card');
            const isFlipped = card.style.transform === 'rotateY(180deg)';
            
            playSound('flipSound');
            card.style.transform = isFlipped ? 'rotateY(0deg)' : 'rotateY(180deg)';
            
            if (!isFlipped) {
                createParticles(window.innerWidth / 2, window.innerHeight / 2, 10);
            }
        }

        // =====================
        // SISTEMA DE TEMA
        // =====================
        const themeToggle = document.getElementById('themeToggle');
        const prefersDarkScheme = window.matchMedia('(prefers-color-scheme: dark)');
        
        function loadTheme() {
            const savedTheme = localStorage.getItem('theme');
            const icon = themeToggle.querySelector('i');
            
            if (savedTheme === 'dark' || (!savedTheme && prefersDarkScheme.matches)) {
                document.body.classList.add('dark-mode');
                icon.className = 'fas fa-sun';
            } else {
                document.body.classList.remove('dark-mode');
                icon.className = 'fas fa-moon';
            }
        }
        
        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const icon = themeToggle.querySelector('i');
            
            if (document.body.classList.contains('dark-mode')) {
                localStorage.setItem('theme', 'dark');
                icon.className = 'fas fa-sun';
                showToast("Modo escuro ativado");
            } else {
                localStorage.setItem('theme', 'light');
                icon.className = 'fas fa-moon';
                showToast("Modo claro ativado");
            }
            
            playSound('cardSound');
        }

        // =====================
        // MODO F√â
        // =====================
        function toggleFaithMode() {
            game.faithMode = !game.faithMode;
            const faithBtn = document.getElementById('faithBtn');
            
            playSound('cardSound');
            
            if (game.faithMode) {
                faithBtn.innerHTML = '<i class="fas fa-pray"></i>';
                faithBtn.title = "Modo F√© Ativo - Reflex√£o Profunda";
                showToast("Modo F√© ativado - momento de reflex√£o profunda");
                document.querySelector('.glow-effect').style.animationDuration = '4s';
            } else {
                faithBtn.innerHTML = '<i class="fas fa-praying-hands"></i>';
                faithBtn.title = "Modo F√©";
                document.querySelector('.glow-effect').style.animationDuration = '8s';
            }
        }

        // =====================
        // CONFIGURA√á√ïES
        // =====================
        function openSettings() {
            playSound('cardSound');
            document.getElementById('settingsModal').classList.add('active');
            
            document.getElementById('deckMode').value = game.settings.deckMode;
            document.getElementById('skipMode').value = game.settings.skipMode;
            document.getElementById('deckSize').value = game.settings.deckSize;
        }

        function closeSettings() {
            document.getElementById('settingsModal').classList.remove('active');
        }

        function applySettings() {
            playSound('cardSound');
            
            game.settings.deckMode = document.getElementById('deckMode').value;
            game.settings.skipMode = document.getElementById('skipMode').value;
            game.settings.deckSize = parseInt(document.getElementById('deckSize').value);
            
            game.resetSession();
            revealCard("‚ú® Configura√ß√µes aplicadas. Nova sess√£o iniciada com energia renovada!");
            
            closeSettings();
            showToast("Configura√ß√µes aplicadas com sucesso!");
        }

        function resetSession() {
            playSound('cardSound');
            game.resetSession();
            revealCard("üîÑ Sess√£o reiniciada. Pronto para uma nova jornada de conex√£o!");
            showToast("Sess√£o reiniciada - novas cartas, novas conversas!");
            
            const cardElement = document.getElementById('card');
            cardElement.style.transform = 'rotateY(180deg)';
            setTimeout(() => {
                cardElement.style.transform = 'rotateY(0deg)';
            }, 500);
        }

        // =====================
        // SISTEMA DE TOAST
        // =====================
        function showToast(message) {
            const toast = document.getElementById('toast');
            const toastText = document.getElementById('toastText');
            
            toastText.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }

        function playSound(soundId) {
            const sound = document.getElementById(soundId);
            if (sound) {
                sound.currentTime = 0;
                sound.volume = 0.3;
                sound.play().catch(e => console.log("Audio:", e));
            }
        }

        // =====================
        // INICIALIZA√á√ÉO
        // =====================
        function init() {
            game.initialize();
            loadTheme();
            
            setInterval(() => game.updateDisplay(), 1000);
            
            // Configura teclas de atalho
            document.addEventListener('keydown', (e) => {
                switch(e.code) {
                    case 'ArrowRight':
                    case 'Space':
                        e.preventDefault();
                        drawCard('next');
                        break;
                    case 'ArrowLeft':
                        e.preventDefault();
                        previousCard();
                        break;
                    case 'KeyS':
                        e.preventDefault();
                        skipCard();
                        break;
                    case 'KeyF':
                        e.preventDefault();
                        toggleFaithMode();
                        break;
                    case 'KeyC':
                        e.preventDefault();
                        openSettings();
                        break;
                    case 'Escape':
                        closeSettings();
                        break;
                }
            });
            
            // Efeito de boas-vindas
            setTimeout(() => {
                showToast("Bem-vindo ao Baralho do Amor! Toque na carta para come√ßar.");
            }, 1500);
        }

        // =====================
        // EVENT LISTENERS
        // =====================
        window.addEventListener('DOMContentLoaded', init);
        
        themeToggle.addEventListener('click', toggleTheme);
        
        document.getElementById('closeSettings').addEventListener('click', closeSettings);
        document.getElementById('settingsModal').addEventListener('click', (e) => {
            if (e.target === e.currentTarget) closeSettings();
        });
        
        prefersDarkScheme.addEventListener('change', (e) => {
            if (!localStorage.getItem('theme')) loadTheme();
        });
    </script>
</body>
</html>